<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        h1,
        div {
            text-align: center;
            margin: 10px;
        }

        .p3 {
            font-size: 32px;
            display: inline;
            float: left;
            width: 30%;
            height: 100%;
            border: 1px;
        }

        img {
            width: 120px;
            height: 80px;
            margin: 0;
        }

        .point {
            width: 20px;
            height: 30px;
        }
    </style>
    <mata charset="UTF-8"></mata>
    <title>桃園機場捷運的票價跟時間圖</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script>
        var dataUrl = "https://ptx.transportdata.tw/MOTC/v2/Rail/Metro/ODFare/TYMC?%24top=420&%24format=JSON";
        var data = $.getJSON(dataUrl);
    
        station = ["#S1", "#S2", "#S3", "#S4", "#S5", "#S6", "#S7", "#S8", "#S9", "#S10", "#S11", "#S12", "#S13", "#S14", "#S15", "#S16", "#S17", "#S18", "#S19", "#S20", "#S21"];
    
        data.done(function (msg) {
            console.log(msg);
            mLong = msg.length;
            console.log(mLong);
    
            for (var i = 419; i >= 0; i -= 21) {
                console.log(msg[i].OriginStationID + "To" + msg[i].DestinationStationID + "Time: " + msg[i].TravelTime + "Price: " + msg[i].Fares[0].Price + "i=" + i);
                console.log((i + 22) / 21);
                $('<h1 id=A'+(i+22)/21+'><img src="img/A'+(i+22)/21+'.png"></h1>').insertAfter("#title");
                $('<h1 id=S'+(i+22)/21+'></h1>').insertAfter("#set");
                $(station[(i+22)/21-1]).prepend('<div class="p3" id=S'+(i+22)/21+'>'+msg[i].Fares[0].Price+'</div>');
                $(station[(i+22)/21-1]).prepend('<div class="p3"><img class="ar"src=img/p.png></div>');
                $(station[(i+22)/21-1]).prepend('<div class="p3" id=S'+(i+22)/21+'>'+msg[i].TravelTime+'</div>');
            }
    
            $('<h1 id=A1><img src="img/A1.png"></h1>').insertAfter("#title");
        });
    
        data.fail(function (msg) {
            console.log(msg);
            $("#contain").html("It is fail.");
        });
    
    
    </script>
</head>

<body>
    <h1 id="title">
        <div class="p3">時間</div>
        <div class="p3">路線</div>
        <div class="p3">票價</div>
    </h1>
</body>



</html>